<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DAA — Important Info (Rows = Months, Columns = Categories)</title>
  <style>
    :root{
      --bg:#f7f7f9; --card:#fff; --text:#111; --muted:#6b7280; --border:#e5e7eb; --accent:#0f62fe;
      --c-ib:#2563eb; --c-ap:#0d9488; --c-college:#ffff00; --c-test:#ea580c; --c-school:#16a34a; --c-general:#6b7280;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:var(--bg);color:var(--text)}
    header{padding:20px 16px;text-align:center}
    h1{margin:0 0 6px;font-size:22px}

    .tabs{max-width:1200px;margin:0 auto;padding:0 12px 28px}
    .tabbar{display:flex;gap:8px;border-bottom:1px solid var(--border)}
    .tabbar a{padding:10px 12px;border:1px solid var(--border);border-bottom:0;background:var(--card);border-top-left-radius:10px;border-top-right-radius:10px;text-decoration:none;color:var(--text)}
    .tabbar a.active{background:var(--accent);color:#fff;border-color:var(--accent)}
    .panel{background:var(--card);border:1px solid var(--border);border-radius:0 12px 12px 12px;padding:14px}

    .disclaimer{max-width:1200px;margin:0 auto 10px;color:#b91c1c;background:#fff;border:1px solid #fecaca;border-radius:12px;padding:10px 12px}
    .disclaimer a{color:var(--accent);text-decoration:underline}

    /* Grid: rows = months, columns = categories */
    .grid{display:grid;gap:8px}
    /* 1st col = month label, then 6 category columns */
    .grid{grid-template-columns:160px repeat(6, minmax(150px,1fr))}
    @media (max-width:1100px){.grid{grid-template-columns:120px repeat(3,1fr)} .hide-sm{display:none}}
    @media (max-width:700px){.grid{grid-template-columns:110px repeat(2,1fr)} .hide-xs{display:none}}

    .headcell{background:#f3f4f6;border:1px solid var(--border);border-radius:10px;display:flex;align-items:center;gap:8px;padding:8px 10px;font-weight:800;font-size:12px}
    .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
    .mcell{background:#e5efff;color:#111;font-weight:800;padding:8px 12px;border-radius:14px;font-size:13px}

    .cell{background:#fff;border:1px solid var(--border);border-radius:10px;padding:8px;min-height:70px}
    .empty{color:var(--muted);font-size:12px}
    .item{display:flex;gap:8px;margin:6px 0}
    .bar{width:4px;border-radius:4px}
    .title{font-size:13px;font-weight:650;line-height:1.25}
    .date{font-size:12px;color:var(--muted)}
    .section-title{margin:6px 0 12px;font-size:16px}

    .info{margin-top:18px}
    .info h3{margin:0 0 10px;font-size:16px}
    .info table{width:100%;border-collapse:separate;border-spacing:0;background:#fff;border:1px solid #e5e7eb;border-radius:14px;overflow:hidden}
    .info thead th{background:#f3f4f6;color:#374151;font-weight:600;padding:10px 12px;text-align:left}
    .info tbody td,.info tbody th{padding:12px;border-top:1px solid #e5e7eb;vertical-align:top;text-align:left}
    .info tbody th{width:280px;color:#374151;background:#fafafa}
    .info a.btn{display:inline-block;padding:8px 10px;border:1px solid var(--border);border-radius:10px;text-decoration:none}
    .info a.btn:hover{border-color:var(--accent)}
    .tz{color:#dc2626;font-weight:800}
    iframe{width:100%;height:80vh;border:0;border-radius:12px}
  </style>
</head>
<body>
  <header><h1>DAA — Important Info</h1></header>

  <main class="tabs">
    <nav class="tabbar" role="tablist">
      <a href="#timelines" id="tab-tl" class="active" role="tab" aria-controls="timelines" aria-selected="true">Timeline</a>
      <a href="#calculator" id="tab-calc" role="tab" aria-controls="calculator" aria-selected="false">GPA Calculator</a>
      <a href="#planner" id="tab-planner" role="tab" aria-controls="planner" aria-selected="false">IB Planner</a>
    </nav>

    <section id="timelines" class="panel" role="tabpanel" aria-labelledby="tab-tl"></section>

    <section id="calculator" class="panel" role="tabpanel" aria-labelledby="tab-calc" hidden>
      <iframe src="calculator.html" title="GPA Calculator"></iframe>
    </section>

    <section id="planner" class="panel" role="tabpanel" aria-labelledby="tab-planner" hidden>
      <iframe src="planner.html" title="IB Planner"></iframe>
    </section>
  </main>

  <script>
    const months = [
      {key:'2025-09', label:'Sep 2025'},
      {key:'2025-10', label:'Oct 2025'},
      {key:'2025-11', label:'Nov 2025'},
      {key:'2025-12', label:'Dec 2025'},
      {key:'2026-01', label:'Jan 2026'},
      {key:'2026-02', label:'Feb 2026'},
      {key:'2026-03', label:'Mar 2026'},
      {key:'2026-04', label:'Apr 2026'},
      {key:'2026-05', label:'May 2026'},
      {key:'2026-06', label:'Jun 2026'},
      {key:'2026-07', label:'Jul 2026'}
    ];

    const CATS = [
      {key:'school',  label:'School Processes', color:getCSS('--c-school')},
      {key:'ib',      label:'IB Internal',      color:getCSS('--c-ib')},
      {key:'ap',      label:'AP',               color:getCSS('--c-ap'), class:'hide-xs'},
      {key:'college', label:'College Applications', color:getCSS('--c-college')},
      {key:'test',    label:'Tests',            color:getCSS('--c-test'), class:'hide-sm'},
      {key:'general', label:'General',          color:getCSS('--c-general'), class:'hide-sm'}
    ];

    function getCSS(v){ return getComputedStyle(document.documentElement).getPropertyValue(v).trim(); }
    function monthKey(dt){ const y=dt.getFullYear(); const m=String(dt.getMonth()+1).padStart(2,'0'); return `${y}-${m}`; }
    function fmtSingle(dateStr){ const d=new Date(dateStr); return d.toLocaleDateString(undefined,{month:'long', day:'numeric'}); }
    function fmtRange(s,e){
      const ds=new Date(s), de=new Date(e);
      if(ds.getTime()===de.getTime()) return fmtSingle(s);
      const sameM=ds.getFullYear()===de.getFullYear() && ds.getMonth()===de.getMonth();
      if(sameM){ const m=ds.toLocaleDateString(undefined,{month:'long'}); return `${m} ${ds.getDate()} – ${de.getDate()}`; }
      const a=ds.toLocaleDateString(undefined,{month:'long', day:'numeric'});
      const b=de.toLocaleDateString(undefined,{month:'long', day:'numeric'});
      return `${a} – ${b}`;
    }

    const items = [
      /* GENERAL */
      {title:'No School', start:'2025-10-13', end:'2025-10-15', cat:'general'},
      {title:'MS/HS PD (No School for MS/HS)', start:'2025-10-27', end:'2025-10-27', cat:'general'},
      {title:'HS/MS Parent Teacher Conference', start:'2025-11-24', end:'2025-11-24', cat:'general'},
      {title:'Thanksgiving (in School)', start:'2025-11-27', end:'2025-11-27', cat:'general'},
      {title:'National Day', start:'2025-12-02', end:'2025-12-03', cat:'general'},
      {title:'Winter Break (No School)', start:'2025-12-08', end:'2026-01-02', cat:'general'},
      {title:'HS PD (No School for HS)', start:'2026-02-09', end:'2026-02-09', cat:'general'},
      {title:'Start of Ramadan', start:'2026-02-18', end:'2026-02-18', cat:'general'},
      {title:'No School', start:'2026-02-19', end:'2026-02-20', cat:'general'},
      {title:'Spring Break', start:'2026-03-16', end:'2026-03-27', cat:'general'},
      {title:'Eid al Fitr', start:'2026-03-19', end:'2026-03-20', cat:'general'},
      {title:'Eid Al Adha', start:'2026-05-26', end:'2026-05-29', cat:'general'},
      {title:'Grade 12 Graduation', start:'2026-05-31', end:'2026-05-31', cat:'general'},
      {title:'Islamic New Year', start:'2026-06-16', end:'2026-06-16', cat:'general'},
      {title:'HS End of Year Exams', start:'2026-06-08', end:'2026-06-19', cat:'general'},
      {title:'Last day of school (noon dismissal)', start:'2026-07-03', end:'2026-07-03', cat:'general'},

      /* IB + AP */
	  {title:'EE — Extended Essay Draft Due', start:'2025-09-01', end:'2025-09-01', cat:'ib'},
      {title:'EE — Extended Essay', start:'2025-10-23', end:'2025-10-23', cat:'ib'},
      {title:'October IB Predictions (early apps only)', start:'2025-10-01', end:'2025-10-31', cat:'ib'},
      {title:'November IB Predictions (all students, inc. TOK/EE)', start:'2025-11-01', end:'2025-11-30', cat:'ib'},
      {title:'TOK — Essay', start:'2026-02-12', end:'2026-02-12', cat:'ib'},
      {title:'IB Y1 HL Week & IB Y2 Mock Exams', start:'2026-01-19', end:'2026-01-30', cat:'ib'},
      {title:'HS & AP Semester 1 Exams', start:'2026-01-23', end:'2026-01-30', cat:'ib'},
      {title:'IB Exams', start:'2026-04-24', end:'2026-05-20', cat:'ib'},
      {title:'AP Exams TBC', start:'2026-05-04', end:'2026-05-22', cat:'ap'},
	  {title:'CAS Submission & Final IA Work', start:'2026-03-15', end:'2026-03-15', cat:'ib'},

      /* Tests */
      {title:'SAT Exam at DAA', start:'2025-10-04', end:'2025-10-04', cat:'test'},
      {title:'SAT Exam at DAA', start:'2025-11-08', end:'2025-11-08', cat:'test'},
      {title:'SAT Exam at DAA', start:'2025-12-06', end:'2025-12-06', cat:'test'},
      {title:'SAT Exam at DAA', start:'2026-03-14', end:'2026-03-14', cat:'test'},
      {title:'SAT Exam at DAA', start:'2026-05-02', end:'2026-05-02', cat:'test'},
	  {title:'SAT Exam at DAA', start:'2026-06-06', end:'2026-06-06', cat:'test'},
	  {title:'TMUA (If Required)', start:'2026-01-10', end:'2026-01-10', cat:'test'},
	   {title:'TMUA October 13/14 depending on the cente', start:'2025-10-13', end:'2025-10-14', cat:'test'},

      /* College */
	  {title:'UCAS Final January Deadline', start:'2026-01-29', end:'2026-01-29', cat:'college'},
	  {title:'UCAS Equal Consideration Closes', start:'2026-01-14', end:'2026-01-14', cat:'college'},
	  {title:'UCAS October 15 Deadline', start:'2025-10-15', end:'2025-10-15', cat:'college'},
	  {title:'UCAS Counselor Confirmation', start:'2025-09-01', end:'2025-09-01', cat:'college'},
      {title:'UK Oxbridge/Medicine/ Dentistry/Vet due', start:'2025-10-15', end:'2025-10-15', cat:'college'},
      {title:'Common App Early Decision deadline', start:'2025-11-15', end:'2025-11-15', cat:'college'},
       {title:'Common App Early Decision 2 deadline', start:'2026-01-15', end:'2026-01-15', cat:'college'},
	    {title:'Common App Regular Decision deadline', start:'2026-01-15', end:'2026-01-15', cat:'college'},
	  {title:'Common App Early Action applications', start:'2025-12-01', end:'2025-12-01', cat:'college'},
      {title:'Canada priority applications', start:'2025-11-07', end:'2025-11-07', cat:'college'},
      {title:'UC applications due', start:'2025-11-30', end:'2025-11-30', cat:'college'},
      {title:'Netherlands selective programs due', start:'2025-12-01', end:'2025-12-01', cat:'college'},
      {title:'UCAS applications due', start:'2026-01-14', end:'2026-01-14', cat:'college'},
      {title:'Netherlands numerus fixus due', start:'2026-01-15', end:'2026-01-15', cat:'college'},
      {title:'Canada regular applications due', start:'2026-01-15', end:'2026-01-15', cat:'college'},
      {title:'Netherlands early deadline (non-selective)', start:'2026-04-01', end:'2026-04-01', cat:'college'},
      {title:'National deadline to accept one offer', start:'2026-05-01', end:'2026-05-01', cat:'college'},
      {title:'FAFSA due (USA citizens applying to USA)', start:'2026-06-30', end:'2026-06-30', cat:'college'},

      /* School */
      {title:'Senior Planning Night', start:'2025-09-01', end:'2025-09-30', cat:'school'},
      {title:'Add Universities in Unifrog', start:'2025-09-01', end:'2025-09-30', cat:'school'},
      {title:'Request documents to be sent to universities', start:'2025-10-01', end:'2025-10-31', cat:'school'},
      {title:'Request documents to be sent to universities', start:'2025-11-01', end:'2025-11-30', cat:'school'},
      {title:'Request documents before Winter Break', start:'2025-12-01', end:'2025-12-20', cat:'school'},
      {title:'Request documents to be sent to universities', start:'2026-01-01', end:'2026-01-31', cat:'school'},
      {title:'Request mid-year/interim reports to universities', start:'2026-02-01', end:'2026-02-28', cat:'school'},
      {title:'Start Senior Clearance', start:'2026-04-01', end:'2026-04-30', cat:'school'},
      {title:'Complete IB Coordinator form for score sending (early July)', start:'2026-04-01', end:'2026-04-30', cat:'school'},
      {title:'Complete Senior Clearance', start:'2026-05-01', end:'2026-05-31', cat:'school'},
      {title:'Request final HS transcript (after graduation)', start:'2026-05-31', end:'2026-06-15', cat:'school'},
      {title:'UAE attestation/equivalency begins (US diploma)', start:'2026-06-01', end:'2026-06-01', cat:'school'},
      {title:'Official IB scores sent to universities (early July)', start:'2026-07-01', end:'2026-07-15', cat:'school'},
      {title:'UAE attestation/equivalency begins (IB diploma)', start:'2026-07-15', end:'2026-07-15', cat:'school'}
    ];

    function buildHeaderRow(grid){
      // blank header for month column
      const blank=document.createElement('div');
      blank.className='headcell';
      blank.textContent='Month';
      grid.appendChild(blank);
      // category headers
      CATS.forEach(c=>{
        const hc=document.createElement('div');
        hc.className='headcell ' + (c.class||'');
        hc.innerHTML=`<span class="dot" style="background:${c.color}"></span>${c.label}`;
        grid.appendChild(hc);
      });
    }

    function buildTimeline(){
      const root=document.getElementById('timelines');

      const note=document.createElement('div');
      note.className='disclaimer';
      note.innerHTML=`The information on this website was collaboratively compiled by parents, with thanks to Ms. Rania Mukhar.<br>For official dates and details, please refer to the <a href="https://www.gemsaa-dubai.com/About-Us/Academic-Calendar" target="_blank" rel="noopener">DAA Official Calendar</a>.`;
      root.appendChild(note);

      const title=document.createElement('div');
      title.className='section-title';
      title.textContent='Monthly rows × Category columns';
      root.appendChild(title);

      const grid=document.createElement('div'); grid.className='grid';
      buildHeaderRow(grid);

      months.forEach(m=>{
        // month label cell
        const mcell=document.createElement('div'); mcell.className='mcell'; mcell.textContent=m.label;
        grid.appendChild(mcell);

        // one cell per category
        CATS.forEach(c=>{
          const cell=document.createElement('div'); cell.className='cell ' + (c.class||'');
          const inMonth = items
            .filter(x => x.cat===c.key && monthKey(new Date(x.start))===m.key)
            .sort((a,b)=> new Date(a.start) - new Date(b.start));

          if(!inMonth.length){
            const empty=document.createElement('div'); empty.className='empty'; empty.textContent='—';
            cell.appendChild(empty);
          }else{
            inMonth.forEach(r=>{
              const div=document.createElement('div'); div.className='item';
              div.innerHTML=`
                <span class="bar" style="background:${c.color}"></span>
                <div>
                  <div class="title">${r.title}</div>
                  <div class="date">${fmtRange(r.start,r.end)}</div>
                </div>`;
              cell.appendChild(div);
            });
          }
          grid.appendChild(cell);
        });
      });

      root.appendChild(grid);

      const info=document.createElement('section'); info.className='info';
      info.innerHTML=`
        <h3>Important information</h3>
        <table aria-label="Important information">
          <thead><tr><th>Item</th><th>Details</th></tr></thead>
          <tbody>
            <tr>
              <th>Official May 2026 IB exam schedule</th>
              <td><a class="btn" href="https://www.ibo.org/globalassets/new-structure/programmes/dp/pdfs/may-2026-examination-schedule.pdf" target="_blank" rel="noopener">Open PDF</a></td>
            </tr>
            <tr>
              <th>Exam time zone</th>
              <td>The Middle East is <span class="tz">Exam Zone B (TZ2)</span>.</td>
            </tr>
            <tr><th>Powerschool district code</th><td>QNNZ</td></tr>
            <tr><th>DAA SAT code</th><td>52822</td></tr>
            <tr><th>UCAS Buzzword</th><td>daaYYYY, e.g., daa2026</td></tr>
          </tbody>
        </table>`;
      root.appendChild(info);
    }

    function setupTabs(){
      const tabTl=document.getElementById('tab-tl');
      const tabCalc=document.getElementById('tab-calc');
      const tabPlanner=document.getElementById('tab-planner');
      const pTl=document.getElementById('timelines');
      const pCalc=document.getElementById('calculator');
      const pPlanner=document.getElementById('planner');
      function sel(which){
        const showTl=which==='tl', showCalc=which==='calc', showPlanner=which==='planner';
        tabTl.classList.toggle('active',showTl); tabCalc.classList.toggle('active',showCalc); tabPlanner.classList.toggle('active',showPlanner);
        pTl.hidden=!showTl; pCalc.hidden=!showCalc; pPlanner.hidden=!showPlanner;
        tabTl.setAttribute('aria-selected',showTl); tabCalc.setAttribute('aria-selected',showCalc); tabPlanner.setAttribute('aria-selected',showPlanner);
      }
      tabTl.addEventListener('click',e=>{e.preventDefault(); sel('tl');});
      tabCalc.addEventListener('click',e=>{e.preventDefault(); sel('calc');});
      tabPlanner.addEventListener('click',e=>{e.preventDefault(); sel('planner');});
    }

    document.addEventListener('DOMContentLoaded', ()=>{ buildTimeline(); setupTabs(); });
  </script>
</body>
</html>
